<main class="main-content bgc-grey">
  <div id="mainContent">
    <div id="mainContent">
      <div class="modal-header page-header p-0">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-4 left_side_head">
              <p class="heading_lead c-grey-900"><i class="fas fa-flag" aria-hidden="true"></i>Order Packing</p>
            </div>
            <div class="col-md-8">
              <div class="btn_header">
                <a>
                  <img src="../assets/img/printer.png">
                </a>
                <a>
                  <img src="../assets/img/pdf.png"></a>
                <a>
                  <img src="../assets/img/excel.png"></a>
                <button type="button" [disabled]="disableBtn" class="btn btn-primary waves-effect waves-light" 
                (click)="generateChallan()">Generate Challan</button>
                <button type="button" (click)="toggleSearch()" class="btn btn-primary waves-effect waves-light" >
                  Search
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <packaging-search [toShow]="toShowSearch" ></packaging-search>
      <div class="bgc-white bdrs-3 mB-20">
        <div class="table-responsive parent" style="overflow: auto;">
          <table class="table fixTable packaging-table table-bordered table-hover">
            <thead>
              <tr>
                <th></th>
                <th>Buyer Name</th>
                <th>Buyer Code</th>
                <th>No of Items</th>
                <th>Order No.</th>
                <th>Order Date</th>
                <th>Packing Date</th>
                <th>Total Qty</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of packetLists | paginate : {
                itemsPerPage: itemsPerPage,
                currentPage: p,
                totalItems: total
              }; let i = index;" >
                <td>
                  <div class="custom-control custom-checkbox" *ngIf="item.ChallanId === 0" >
                    <input name="packingorder-{{ i }}" [(ngModel)]="item.checked"
                    (keydown.enter)="item.checked = !item.checked; activateChallanBtn()"
                    (change)="activateChallanBtn()"
                    type="checkbox" class="custom-control-input" id="packingorderAttribute-{{ i }}" />
                    <label class="custom-control-label" for="packingorderAttribute-{{ i }}"></label>
                  </div>
                </td>
                <td>{{item?.BuyerName}}</td>
                <td>{{item?.Code}}</td>
                <td>{{item?.NoOfPackets}}</td>
                <td>{{item?.OrderNo}}</td>
                <td>{{item?.OrderDate | dateFormat: clientDateFormat}}</td>
                <td>{{item?.PackingDate | dateFormat: clientDateFormat}}</td>
                <td>{{item?.TotalQty}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</main>
<packaging-challan></packaging-challan>
<app-pagination
  (lastValueEmitter)="lastItemIndex = $event"
  (pageNoEmitter)="p = $event; getPacketsList()"
  (pageSizeEmitter)="itemsPerPage = $event; getPacketsList()"
></app-pagination>