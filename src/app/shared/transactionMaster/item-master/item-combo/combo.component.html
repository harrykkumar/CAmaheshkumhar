<div class="modal fade" id="item-combo" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg1" role="document">
    <div class="modal-content bgcH-grey-100">
      <div class="modal-header primary-bg">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3 left_side_head">
              <p class="heading_lead">
                <i class="fas fa-shopping-cart" aria-hidden="true"></i>
                Combo
              </p>
            </div>
            <div class="col-md-9">
              <div class="btn_header">
                <a class="btn btn-default waves-effect" (click)="saveCombo()" #savebutton> Save </a>
                <button type="button" (click)="closeModal()" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true" class="white-text" >Ã—</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <form>
          <div class="card p-3">
            <div class="table-responsive parent">
              <table class="table fixTable editable_tbl item-table table-hover" id="table">
                <thead>
                  <tr class="default_row table">
                    <th >#</th>
                    <th>Item</th>
                    <th *ngFor="let column of attributeKeys ; ">
                      {{column}}
                    </th>
                    <th>Unit</th>
                    <th>Quantity</th>
                    <th>Sale Rate</th>
                    <th>Purchase Rate</th>
                    <th>Mrp Rate</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="default_row" *ngFor="let item of Items; let i = index;">
                    <td class="profile-pic1" >
                      <div class="edit1">
                        <a *ngIf="Items.length > 0" (click)="deleteItem(i, 'items', item.Sno)" ><i class="fa fa-trash fa-1x" aria-hidden="true"></i></a>
                        <a *ngIf="Items.length > 0" (click)="editItem(i+1, item.Id, 'items')" ><i class="fas fa-pen fa-1x"></i></a>
                      </div>
                    </td>
                    <td>{{item.itemName}}</td>
                    <td *ngFor="let attribute of item.itemAttributeTrans;">
                      {{attribute.name}}
                    </td>
                    <td>{{item.unitName}}</td>
                    <td>{{item.Quantity}}</td>
                    <ng-container *ngIf="industryId === 3" >
                      <td>{{item.Length}}</td>
                      <td>{{item.Width}}</td>
                      <td>{{item.Height}}</td>
                    </ng-container>
                    <ng-container *ngIf="industryId === 5" >
                      <td>{{item.BatchNo}}</td>
                      <td>{{item.MfdDate}}</td>
                      <td>{{item.ExpiryDate}}</td>
                    </ng-container>
                    <td>{{item.SaleRate}}</td>
                    <td>{{item.PurchaseRate}}</td>
                    <td>{{item.MrpRate}}</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr class="selected_row active">
                    <td>
                      <div class="action_btn">
                        <button type="submit" class="btn btn-primary redAlert btn_add_more" (click)="validateItem();addItems()">+</button>
                      </div>
                    </td>
                    <td>
                      <div class="input-group adw_select min_width_350">
                        <select2 #item_select2 [data]="itemData" class="control_select " 
                        (valueChanged)="onItemSelect($event)" autocomplete="true"
                        [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.ItemId }"
                          [options]="{placeholder: 'Select Item'}" [value]="itemValue" >
                        </select2>
                      </div>
                    </td>
                    <td *ngFor="let attribute of attibutesData; let i= index">
                      <div class="input-group adw_select">
                        <select2 #attr_select2 [disabled]="ItemId <= 0" id="attr{{i}}" [data]="attribute.data" class="control_select attr"
                        (valueChanged)="onAttributeSelect($event,i)"
                        autocomplete="true" [options]="{ placeholder: 'Select Attribute' }" 
                        [value]="attributeValue" ></select2>
                      </div>
                    </td>
                    <td>
                        <div class="input-group adw_select">
                          <select2 #unit_select2 [data]="subUnitsData" class="control_select"
                          (valueChanged)="onUnitSelect($event)" autocomplete="true"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.UnitId }"
                          [options]="{ placeholder: 'Select Unit' }" [value]="subUnitsValue" ></select2>
                        </div>
                    </td>
                    <td>
                      <input type="text" class="form-control" appIncludeDecimal placeholder="Quantity"
                      (input)="validateItem()"
                      [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Quantity }"
                      name="quantity" [(ngModel)]="Quantity" (keyup.enter)="enterPressItem($event)" >
                    </td>
                    <td class="align-middle" >{{SaleRate}}</td>
                    <td class="align-middle" >{{PurchaseRate}}</td>
                    <td class="align-middle" >{{MrpRate}}</td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
