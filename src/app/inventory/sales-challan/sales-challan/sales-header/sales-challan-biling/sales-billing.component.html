<div class="modal fade" id="sale_billing_modal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog large_form modal-full-height modal-top" role="document">
    <div class="modal-content bgcH-grey-100">
      <div class="modal-header primary-bg">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3 left_side_head">
              <p class="heading_lead">
                <i class="fas fa-chart-line" aria-hidden="true"></i>Sale Invoice</p>
            </div>
            <div class="col-md-9">
              <div class="btn_header">
                <button [disabled]="DisabledSaveBtn" type="button" class="btn btn-default waves-effect" #savebutton
                  (click)="keepOpen=false;saveSaleDirect()">

                  {{DisabledSaveBtn === true  ? 'Please Wait..' :'Save' }}
                </button>
                <button type="button" class="close">
                  <span aria-hidden="true" class="white-text" (click)="closePurchase()">Ã—</span>
                </button>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-body">
        <form>
          <div class="form-row">
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label for="partyname">Party Name</label>
              <input readonly='true' type="text" class="form-control" id="partyname" placeholder="Party Name"
                class="form-control" name="partyname" [(ngModel)]="partyname">
            </div>

            <div class="form-group col-md-4 col-xl-2">
              <label> OutStanding Balance</label>
              <div class="discount">
                <input [disabled]='true' type="text" class="form-control" id="e-way" placeholder="Amount"
                  class="form-control" name="outStandingBalance" [(ngModel)]="outStandingBalance">

                <select [disabled]='true' class="form-control discount_type drop_remove" id="InterestRate"
                  name="InterestRateType">
                  <option>{{setCRDR}}</option>
                </select>
              </div>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label for="orgnizationName">Organization Name</label>
              <input readonly='true' type="text" class="form-control" id="orgnizationName"
                placeholder="Orgnization Name" class="form-control" name="orgnizationName"
                [(ngModel)]="orgnizationName">
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label class="fw-500">Invoice Date</label>
              <datepicker-popup [disableInput]="editMode" [toSetDate]="CurrentDate" [isBackDate]="backDateEntry"
                (dateInFormat)="CurrentDate = $event; PayDate = $event; getNewBillNo();checkForValidation();"
                [class]="submitSave && invalidObj?.CurrentDate"></datepicker-popup>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label>Invoice No.</label>
              <a *ngIf="isBillNoManuall  && editMode" class="tooltip1 info_tooltip"><i class="fas fa-info"></i>
                <span class="tooltiptext">Last Bill No. used is - {{previousBillNo}}</span>
              </a>
              <input type="text" placeholder="Bill Number" class="form-control" name="BillNo"
                [disabled]="!isBillNoManuall" (input)="checkForValidation()"
                [ngClass]="{'errorSelecto': submitSave && invalidObj?.BillNo }" [(ngModel)]="BillNo">
              <!-- <p *ngIf="isBillNoManuall && previousBillNo && !editMode" id="previous-bill-container" >Previous BillNo. used is - {{previousBillNo}}</p> -->
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label>E-way Bill Number</label>
              <input type="text" placeholder="E-way Number" class="form-control" name="EwayBillNo"
                (input)="checkForValidation()" [ngClass]="{'errorSelecto': submitSave && invalidObj?.EwayBillNo }"
                [(ngModel)]="EwayBillNo">
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label for="due-date">Due Date</label>
              <datepicker-popup [toSetDate]="DueDate" [disableInput]="editMode" [daysToAdd]="CreditDays"
                (dateInFormat)="DueDate = $event">
              </datepicker-popup>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label>Godown</label>
              <div class="input-group adw_select">
                <select2 #godown_select2 id="godown" [data]="godownsData" class="control_select"
                  (valueChanged)="onGodownSelect($event)" autocomplete="true"
                  [options]="{ placeholder: 'Select Godown' }"
                  [ngClass]="{'errorSelecto': submitSave && invalidObj?.GodownId }" [value]="godownValue"></select2>
              </div>
            </div>
            <div *ngIf="addAddressforNewItem" class="form-group col-md-3">
              <label> Billing Address </label>
              <ng-select #state_Billing_Select2Id name="formTypeBillName" [items]="AddressData" bindLabel="text"
                bindValue="id" [ngClass]="{'errorSelecto': submitSave && invalidObj?.AddressId }"
                placeholder="Select Billing Address" (change)="onAddressBillingSelect($event)"
                [(ngModel)]="addressBillingValue">
              </ng-select>
            </div>
          

            <div class="form-group col-md-4 col-xl-2">
              <label> Interest Rate</label>
              <div class="discount">
                <input type="number" class="form-control Input_width" (keyup)="IntrestValidation($event)"
                  appIncludeDecimal name="InterestRate" placeholder="Interest Rate" [(ngModel)]="InterestRate">
                <select (ngModelChange)="changeIntrate($event)" class="form-control discount_type" id="InterestRate"
                  [(ngModel)]="InterestType" name="InterestType">
                  <option *ngFor="let value of currencyValues;" [value]="value.id">{{value.symbol}}</option>
                </select>
              </div>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label>Billing Currency</label>
              <div class="input-group adw_select">
                <select2 #currency_select2 id="currency" [data]="currencyData" class="control_select"
                  (valueChanged)="onCurrencySelect($event)" autocomplete="true"
                  [options]="{ placeholder: 'Select Currency' }"
                  [ngClass]="{'errorSelecto': submitSave && invalidObj?.CurrencyId }" [value]="currencyValue"></select2>
              </div>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label>Convert To Currency</label>
              <div class="input-group adw_select">
                <select2 #convertTo_select2 id="convertToCurrency" [data]="convertToCurrencyData" class="control_select"
                  (valueChanged)="onConvertToCurrencySelect($event)" autocomplete="true"
                  [options]="{ placeholder: 'Select Convert In Currency' }" [value]="convertToCurrencyValue"></select2>
              </div>
            </div>
            <div class="form-group col-md-3 col-lg-2 col-xl-2">
              <label for="currency-rate">Currency Rate</label>
              <input type="text" class="form-control" id="currency-rate" placeholder="Currency Rate"
                class="form-control" appIncludeDeciaml name="currencyRate" [(ngModel)]="CurrencyRate">
            </div>



          </div>
          <div class="card p-2">
            <div class="form-row">
              <div class=" col-md-1">
                <h5 class="summery_text">Item Detail</h5>
              </div>

            </div>
<!-- selected_row -->
            <div class="table-responsive parent">
              <table class="table fixTable4 editable_tbl item-table table-hover" id="table">
                <thead>
                  <tr class="default_row table">
                    <th class="cust_width_80">#</th>
                    
                    <th [colSpan]="categories.length">Category <a (click)="opeCatImport()" class="info_tooltip"><i
                          class="fas fa-plus"></i></a></th>
                    <th>Item</th>
                    <th *ngFor="let column of attributeKeys ; ">
                      {{column}}
                    </th>
                    <th>Quantity</th>
                    <th>Unit</th>
                    <ng-container *ngIf="industryId === 3">
                      <th>Length</th>
                      <th>Width</th>
                      <th>Height</th>
                    </ng-container>
                    <ng-container *ngIf="industryId === 5">
                      <th class="cust_width_150">Batch No</th>
                      <th class="cust_width_150">Mfd Date</th>
                      <th class="cust_width_150">Expiry Date</th>
                    </ng-container>
                    <th>Rate</th>
                    <th>Total</th>
                    <th>Discount</th>
                    <th>Discount Amount</th>
                    <th>TaxSlab</th>
                    <th>Tax Type</th>
                    <th>Tax Amount</th>
                    <th class="cust_width_200">Remark</th>
                    <th>Total Amount</th>
                  </tr>
                </thead>
                <tbody>
                  <tr  class="default_row " *ngFor="let item of Items; let i = index;" (click)="editItem(i+1, item.Id, 'items', item.Sno)"
                  
                  >
                    <td class="profile-pic1">
                      <div class="edit1">
                          <ng-container>
                              <a *ngIf="Items.length > 0" (click)="deleteItem(i, 'items', item.Sno)"><i
                                class="fa fa-trash fa-1x" aria-hidden="true"></i></a>
                          </ng-container>
                          <ng-container *ngIf="item.isDisabled" >
                              <a *ngIf="Items.length > 0" (click)="editItem(i+1, item.Id, 'items', item.Sno)"><i
                                class="fas fa-pen fa-1x"></i>
                            </a>
                          </ng-container>
                          <ng-container *ngIf="!item.isDisabled" >
                              <a *ngIf="Items.length > 0" (click)="addItems()"><i
                                class="fas fa-plus fa-1x"></i>
                            </a>
                          </ng-container>

                      </div>
                    </td>
                    
                    <ng-container *ngIf="item.isDisabled">
                        <td [colSpan]="categories.length"  class="align-middle">{{item.categoryName}}</td>

                    </ng-container>

                    <ng-container *ngIf="!item.isDisabled" >
                      <td *ngFor="let category of categories" class="highLightRow" >
                        <div class="input-group adw_select">
                          <select2   [data]="category.data" #cat_select2 class="control_select cat-cont"
                            (valueChanged)="onSelectCategory($event, category.level)" (keydown.esc)="moveToCharge()"
                            autocomplete="true" [options]="{ placeholder: 'Select Category' }" [value]="category.value">
                          </select2>
                        </div>
                      </td>
                    </ng-container>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.itemName}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <div class="input-group adw_select min_width_350">
                        <select2  #item_select2 [data]="itemData" class="control_select "
                          (valueChanged)="onItemSelect($event)" autocomplete="true"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.ItemId }"
                          [options]="{placeholder: 'Select Item'}" [value]="item.itemValue">
                        </select2>
                      </div>
                    </td>
                    
                   
                     <ng-container *ngIf="!item.isDisabled"  >
                        <td  *ngFor="let attribute of item.itemAttributeTrans;">
                            {{attribute.name}}
                          </td>
                     </ng-container>
                     <ng-container *ngIf="!item.isDisabled"  class="highLightRow">
                        <td *ngFor="let attribute of attributesData; let i= index">
                            <div class="input-group adw_select">
                              <select2 #attr_select2   id="attr{{i}}" [data]="attribute.data"
                                class="control_select attr"
                                (valueChanged)="onAttributeSelect($event,i, attribute.attributeId)" autocomplete="true"
                                [options]="{ placeholder: 'Select Attribute' }" [value]="attributeValue"></select2>
                            </div>
                          </td>
                     </ng-container>
              
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.Quantity}}</td>
                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input   type="text" class="form-control" appIncludeDecimal placeholder="Quantity"
                        (input)="validateItem();calculate();"  id="items.Quantity{{i}}"
                        [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Quantity }"
                        name="items.Quantity" [(ngModel)]="Quantity">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.unitName}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <div class="input-group adw_select">
                        <select2  #unit_select2 [data]="subUnitsData" class="control_select"
                          (valueChanged)="onUnitSelect($event)" autocomplete="true"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.UnitId }"
                          [options]="{ placeholder: 'Select Unit' }" [value]="subUnitsValue"></select2>
                      </div>
                    </td>
                    <ng-container *ngIf="industryId === 3">
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.Length}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <input   type="text" class="form-control" placeholder="Length" appIncludeDecimal
                          name="items.Length" (input)="validateItem();calculate();" id="items.Length{{i}}"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Length }"
                          [(ngModel)]="Length">
                      </td>
                    <td *ngIf="item.isDisabled" class="align-middle ">{{item.Width}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <input   type="text" class="form-control" placeholder="Width" id="items.Width{{i}}"
                          (input)="validateItem();calculate();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Width }"
                          appIncludeDecimal name="items.Width" [(ngModel)]="Width">
                      </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.Height}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <input   type="text" class="form-control" placeholder="Height"
                          (input)="validateItem();calculate();;"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Height }"
                          appIncludeDecimal name="item.Height" [(ngModel)]="Height">
                      </td>
                    </ng-container>
                    <ng-container *ngIf="industryId === 5">
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.BatchNo}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <input    type="text" class="form-control" placeholder="Batch No" (input)="validateItem();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.BatchNo }"
                          name="BatchNo" [(ngModel)]="BatchNo">
                      </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.MfdDate}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <datepicker-popup [toSetDate]="MfdDate" [isBackDate]="true"
                          (dateInFormat)="MfdDate = $event;validateItem();"
                          [class]="(submitSave || !clickItem) && invalidObj?.MfdDate"></datepicker-popup>
                      </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.ExpiryDate}}</td>

                      <td *ngIf="!item.isDisabled" class="highLightRow">
                        <datepicker-popup [toSetDate]="ExpiryDate" (dateInFormat)="ExpiryDate = $event;validateItem();"
                          [class]="(submitSave || !clickItem) && invalidObj?.ExpiryDate"></datepicker-popup>
                      </td>
                    </ng-container>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.SaleRate}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input     type="text" class="form-control" placeholder="Sale Rate" name="SaleRate"
                        (input)="validateItem();calculate();" appIncludeDecimal
                        [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.SaleRate }"
                        [(ngModel)]="SaleRate">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.TotalRate}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input  type="text" class="form-control" placeholder="Total Rate" appIncludeDecimal
                        (input)="getSaleBillingRate();" name="TotalRate" [(ngModel)]="TotalRate">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.Discount}}&nbsp;{{item.DiscountType === 0 && item.Discount != 0 ? '%' : defaultCurrency}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <div class="discount">
                        <input   type="text" class="form-control" placeholder="Discount" appIncludeDecimal
                          name="Discount" [(ngModel)]="Discount" min="0" max="100"
                          (keyup)="DiscountValidation($event);calculate();;validateItem();"
                          [ngClass]="{'errorSelecto': invalidObj?.Discount }">
                        <select   style="width: 70px !important;" class="form-control discount_type" id="DiscountType"
                          [(ngModel)]="DiscountType" (ngModelChange)="validateItem();calculate();"
                          name="DiscountType">
                          <option *ngFor="let value of currencyValues;" [value]="value.id">{{value.symbol}}</option>
                        </select>
                      </div>
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.DiscountAmt}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input   type="text" readonly="true" class="form-control" placeholder="Discount Amount"
                        appIncludeDecimal tabindex="-1" name="DiscountAmt" [(ngModel)]="DiscountAmt">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.taxSlabName}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <div class="discount">
                        <select2  #taxSlab_select2 [data]="taxSlabsData"
                          class="control_select" (valueChanged)="onTaxSlabSelect($event)" autocomplete="true"
                          [options]="{ placeholder: 'Select Tax Slab' }" [value]="taxSlabValue"></select2>
                      </div>
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.taxTypeName}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <div class="discount">
                        <select2  #taxType_select2 [data]="taxTypeData" class="control_select"
                          (valueChanged)="onTaxTypeSelect($event)" autocomplete="true"
                          [options]="{ placeholder: 'Select Tax Type' }" [value]="taxTypeValue"></select2>
                      </div>
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.TaxAmount}}</td>

                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input   type="text" readonly="true" class="form-control" placeholder="Tax Amount" 
                        appIncludeDecimal name="TaxAmount" [(ngModel)]="TaxAmount">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.Remark}}</td>
                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input   type="text" class="form-control" (input)="validateItem()"
                        (keydown.enter)="enterPressItem($event)" placeholder="Remark" name="Remark"
                        [(ngModel)]="Remark">
                    </td>
                    <td *ngIf="item.isDisabled" class="align-middle">{{item.SubTotal}}</td>
                    <td *ngIf="!item.isDisabled" class="highLightRow">
                      <input   type="text" readonly="true" class="form-control" placeholder="SubTotal" name="SubTotal"
                        appIncludeDecimal (keydown.enter)="enterPressItem($event)" [(ngModel)]="SubTotal">
                    </td>
                  </tr>
                </tbody>
                <tfoot >
                  <tr  *ngIf="showHideAddItemRow" class="selected_row active">
                    <td>
                      <div class="action_btn">
                        <button type="submit" class="btn btn-primary redAlert btn_add_more"
                          (click)="validateItem();addItems()">+</button>
                      </div>
                    </td>
                    <!-- <td></td> -->
                    <ng-container>
                      <td *ngFor="let category of categories">
                        <div class="input-group adw_select">
                          <select2 [data]="category.data" #cat_select2 class="control_select cat-cont"
                            (valueChanged)="onSelectCategory($event, category.level)" (keydown.esc)="moveToCharge()"
                            autocomplete="true" [options]="{ placeholder: 'Select Category' }" [value]="category.value">
                          </select2>
                        </div>
                      </td>
                    </ng-container>
                    <td>
                      <div class="input-group adw_select min_width_350">
                        <select2 [disabled]="PartyId <= 0" #item_select2 [data]="itemData" class="control_select "
                          (valueChanged)="onItemSelect($event)" autocomplete="true"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.ItemId }"
                          [options]="{placeholder: 'Select Item'}" [value]="itemValue">
                        </select2>
                      </div>
                    </td>
                    <td *ngFor="let attribute of attributesData; let i= index">
                      <div class="input-group adw_select">
                        <select2 #attr_select2 [disabled]="ItemId <= 0" id="attr{{i}}" [data]="attribute.data"
                          class="control_select attr"
                          (valueChanged)="onAttributeSelect($event,i, attribute.attributeId)" autocomplete="true"
                          [options]="{ placeholder: 'Select Attribute' }" [value]="attributeValue"></select2>
                      </div>
                    </td>
                    <td>
                      <input type="text" class="form-control" appIncludeDecimal placeholder="Quantity"
                        (input)="validateItem();calculate();"
                        [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Quantity }"
                        name="quantity" [(ngModel)]="Quantity">
                    </td>
                    <td>
                      <div class="input-group adw_select">
                        <select2 #unit_select2 [data]="subUnitsData" class="control_select"
                          (valueChanged)="onUnitSelect($event)" autocomplete="true"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.UnitId }"
                          [options]="{ placeholder: 'Select Unit' }" [value]="subUnitsValue"></select2>
                      </div>
                    </td>
                    <ng-container *ngIf="industryId === 3">
                      <td>
                        <input type="text" class="form-control" placeholder="Length" appIncludeDecimal name="length"
                          (input)="validateItem();calculate();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Length }"
                          [(ngModel)]="Length">
                      </td>
                      <td>
                        <input type="text" class="form-control" placeholder="Width"
                          (input)="validateItem();calculate();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Width }"
                          appIncludeDecimal name="Width" [(ngModel)]="Width">
                      </td>
                      <td>
                        <input type="text" class="form-control" placeholder="Height"
                          (input)="validateItem();calculate();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.Height }"
                          appIncludeDecimal name="Height" [(ngModel)]="Height">
                      </td>
                    </ng-container>
                    <ng-container *ngIf="industryId === 5">
                      <td>
                        <input type="text" class="form-control" placeholder="Batch No" (input)="validateItem();"
                          [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.BatchNo }"
                          name="BatchNo" [(ngModel)]="BatchNo">
                      </td>
                      <td>
                      
                        <datepicker-popup [toSetDate]="MfdDate" [isBackDate]="true"
                          (dateInFormat)="MfdDate = $event;validateItem();"
                          [class]="(submitSave || !clickItem) && invalidObj?.MfdDate"></datepicker-popup>
                      </td>
                      <td>
                        <datepicker-popup [toSetDate]="ExpiryDate" (dateInFormat)="ExpiryDate = $event;validateItem();"
                          [class]="(submitSave || !clickItem) && invalidObj?.ExpiryDate"></datepicker-popup>
                      </td>
                    </ng-container>
                    <td> 
                      <input type="text" class="form-control" placeholder="Sale Rate" name="SaleRate"
                        (input)="validateItem();calculate()" appIncludeDecimal
                        [ngClass]="{'errorSelecto': (submitSave || !clickItem) && invalidObj?.SaleRate }"
                        [(ngModel)]="SaleRate">
                    </td>
                    <td>
                      <input type="text" class="form-control" placeholder="Total Rate" appIncludeDecimal
                        (input)="getSaleBillingRate()" name="TotalRate" [(ngModel)]="TotalRate">
                    </td>
                    <td>
                      <div class="discount">
                        <input type="text" class="form-control" placeholder="Discount" appIncludeDecimal name="Discount"
                          [(ngModel)]="Discount" min="0" max="100"
                          (keyup)="DiscountValidation($event);calculate();validateItem();"
                          [ngClass]="{'errorSelecto': invalidObj?.Discount }">
                        <select style="width: 70px !important;" class="form-control discount_type" id="DiscountType"
                          [(ngModel)]="DiscountType" (ngModelChange)="validateItem();calculate()" name="discountType">
                          <option *ngFor="let value of currencyValues;" [value]="value.id">{{value.symbol}}</option>
                        </select>
                      </div>
                    </td>
                    <td>
                      <input type="text" readonly="true" class="form-control" placeholder="Discount Amount"
                        appIncludeDecimal tabindex="-1" name="DiscountAmt" [(ngModel)]="DiscountAmt">
                    </td>
                    <td>
                      <div class="discount">
                        <select2 [disabled]='DisabledTaxSlab' #taxSlab_select2 [data]="taxSlabsData"
                          class="control_select" (valueChanged)="onTaxSlabSelect($event)" autocomplete="true"
                          [options]="{ placeholder: 'Select Tax Slab' }" [value]="taxSlabValue"></select2>
                      </div>
                    </td>
                    <td>
                      <div class="discount">
                        <select2 #taxType_select2 [data]="taxTypeData" class="control_select"
                          (valueChanged)="onTaxTypeSelect($event)" autocomplete="true"
                          [options]="{ placeholder: 'Select Tax Type' }" [value]="taxTypeValue"></select2>
                      </div>
                    </td>
                    <td>
                      <input type="text" readonly="true" class="form-control" placeholder="Tax Amount" tabindex="-1"
                        appIncludeDecimal name="TaxAmount" [(ngModel)]="TaxAmount">
                    </td>
                    <td>
                      <input type="text" class="form-control" (input)="validateItem()"
                        (keydown.enter)="enterPressItem($event)" placeholder="Remark" name="remark"
                        [(ngModel)]="Remark">
                    </td>
                    <td>
                      <input type="text" readonly="true" class="form-control" placeholder="SubTotal" name="SubTotal"
                        appIncludeDecimal (keydown.enter)="enterPressItem($event)" [(ngModel)]="SubTotal">
                    </td>
                  </tr>
                  <tr>
                    <td *ngFor="let item of categories"></td>
                    <td *ngFor="let item of attributeKeys"></td>
                    <td colspan="3" *ngIf="industryId === 3"></td>
                    <td colspan="3" *ngIf="industryId === 5"></td>
                    <td colspan="7"></td>
                    <td>
                      <input type="text" readonly="true" class="form-control" tabindex="-1" placeholder="Total Discount"
                        name="TotalDiscount" [(ngModel)]="TotalDiscount">
                    </td>
                    <td colspan="2"></td>
                    <td>
                      <input type="text" readonly="true" class="form-control" placeholder="Total Tax Amount"
                        name="TotalTaxAmount" tabindex="-1" [(ngModel)]="TotalTaxAmount"></td>
                    <td colspan="1"></td>
                    <td>
                      <input type="text" readonly="true" class="form-control" placeholder="Total Gross Amount"
                        name="SubTotalAmount" tabindex="-1" [(ngModel)]="SubTotalAmount">
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
          <div class="card p-2 mt-2">
            <h5 class="summery_text">Additional Charges</h5>
            <div class="form-row">
              <div class="parent" id="parent">
                <table class="table editable_tbl charge-table" id="fixTable">
                  <thead>
                    <tr>
                      <th class="cust_width_80">#</th>
                      <th>Charge</th>
                      <th>Amount</th>
                      <th>Tax</th>
                      <th>Tax Type</th>
                      <th>Tax Amount</th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="default_row" *ngFor="let charge of AdditionalCharges; index as i;"
                    (click)="editItem(i+1, charge.Id, 'charge', charge.Sno)">
                      <td class="profile-pic1">
                        <div class="edit1">
                          <ng-container  *ngIf="charge.isEditable" >
                              <a (click)="deleteItem(i, 'charge',true)" *ngIf="AdditionalCharges.length > 0">
                                  <i class="fa fa-trash fa-1x" aria-hidden="true"></i>
                                </a>
                          </ng-container>
                          <ng-container *ngIf="charge.isEditable" >
                              <a (click)="editItem(i+1, charge.Id, 'charge', charge.Sno)"
                            *ngIf="AdditionalCharges.length > 0"><i class="fas fa-pen fa-1x"></i>
                          </a>
                          </ng-container>
                          <ng-container *ngIf="!charge.isEditable" >
                              <a *ngIf="AdditionalCharges.length > 0" (click)="addCharge()"><i
                                class="fas fa-plus fa-1x"></i>
                            </a>
                          </ng-container>


                        </div>
                      </td>
                     
                      <td *ngIf="charge.isEditable" class="align-middle">{{charge.LedgerName}}</td>
                      <td *ngIf="!charge.isEditable">
                        <div class="input-group adw_select">
                          <select2 [disabled]="PartyId <= 0" name="chargeselect" #charge_select2 [data]="chargesData"
                            class="control_select" (valueChanged)="onChargeSelect($event)"
                            (keydown.esc)="moveToPayment()" autocomplete="true"
                            [options]="{placeholder: 'Select Charge'}"
                            [ngClass]="{'errorSelecto': invalidObj?.LedgerChargeId && (submitSave || !clickCharge)  }"
                            [value]="ledgerChargeValue"></select2>
                        </div>
                      </td>
                      <td *ngIf="charge.isEditable" class="align-middle">{{charge.AmountCharge}}</td>

                      <td *ngIf="!charge.isEditable">
                        <input type="text" [disabled]="PartyId <= 0" appIncludeDecimal name="AmountCharge"
                            class="form-control"
                            [ngClass]="{'errorSelecto': invalidObj?.AmountCharge && (submitSave || !clickCharge)}"
                            (input)="validateCharge();calculate();" id="AmountCharge" [(ngModel)]="AmountCharge"
                            placeholder="Enter Amount">
                      </td>
                      <td *ngIf="charge.isEditable" class="align-middle">
                        {{charge.TaxChargeName}}
                      </td>
                      <td *ngIf="!charge.isEditable">
                          <div class="input-group adw_select">
                            <select2 #taxSlabCharge_select2 [data]="taxSlabsData" class="control_select"
                              (valueChanged)="onTaxSlabChargeSelect($event)" autocomplete="true"
                              [ngClass]="{'errorSelecto': (submitSave || !clickCharge) && invalidObj?.TaxSlabChargeId }"
                              [options]="{ placeholder: 'Select Tax Slab' }" [value]="taxSlabChargeValue"></select2>
                          </div>
                        </td>
                      <td *ngIf="charge.isEditable" class="align-middle">
                        {{charge.taxTypeChargeName}}
                      </td>
                      <td *ngIf="!charge.isEditable"> 
                          <select2 #taxTypecharge_select2 [data]="taxTypeData" class="control_select"
                            (valueChanged)="onTaxTypeChargeSelect($event)" autocomplete="true"
                            [options]="{ placeholder: 'Select Tax Type' }" [value]="taxTypeChargeValue"></select2>
                        </td>
                      <td *ngIf="charge.isEditable" class="align-middle">
                        {{charge.TaxAmountCharge}}
                      </td>
                      <td *ngIf="!charge.isEditable">
                        <input type="text" appIncludeDecimal readonly="true" name="TaxAmountCharge"
                        class="form-control"
                        [ngClass]="{'errorSelecto': invalidObj?.TaxAmountCharge && (submitSave || !clickCharge)}"
                        (input)="validateCharge()" id="TaxAmountCharge" [(ngModel)]="TaxAmountCharge"
                        placeholder="Tax Amount">
                    </td>
                      <td *ngIf="charge.isEditable" class="align-middle">
                        {{charge.TotalAmountCharge}}
                      </td>
                      <td *ngIf="!charge.isEditable" ><input type="text" appIncludeDecimal readonly="true" name="TotalAmountCharge"
                        class="form-control"
                        [ngClass]="{'errorSelecto': invalidObj?.TotalAmountCharge && (submitSave || !clickCharge)}"
                        (input)="validateCharge()" (keyup.enter)="enterPressCharge($event)" id="TotalAmountCharge"
                        [(ngModel)]="TotalAmountCharge" placeholder="Total Amount">
                    </td>
                    </tr>
                  </tbody>
                  <tfoot>
                    <tr *ngIf='showHideItemCharge' class="selected_row active">
                      <td>
                        <div class="action_btn">
                          <button (click)="validateCharge();addCharge()" type="submit"
                            class="btn btn-primary btn_add_more">+</button>
                        </div>
                      </td>
                      <td>
                        <div class="input-group adw_select">
                          <select2 [disabled]="PartyId <= 0" name="chargeselect" #charge_select2 [data]="chargesData"
                            class="control_select" (valueChanged)="onChargeSelect($event)"
                            (keydown.esc)="moveToPayment()" autocomplete="true"
                            [options]="{placeholder: 'Select Charge'}"
                            [ngClass]="{'errorSelecto': invalidObj?.LedgerChargeId && (submitSave || !clickCharge)  }"
                            [value]="ledgerChargeValue"></select2>
                        </div>
                      </td>
                      <td><input type="text" [disabled]="PartyId <= 0" appIncludeDecimal name="AmountCharge"
                          class="form-control"
                          [ngClass]="{'errorSelecto': invalidObj?.AmountCharge && (submitSave || !clickCharge)}"
                          (input)="validateCharge();calculate();" id="AmountCharge" [(ngModel)]="AmountCharge"
                          placeholder="Enter Amount">
                      </td>
                      <td>
                        <div class="input-group adw_select">
                          <select2 #taxSlabCharge_select2 [data]="taxSlabsData" class="control_select"
                            (valueChanged)="onTaxSlabChargeSelect($event)" autocomplete="true"
                            [ngClass]="{'errorSelecto': (submitSave || !clickCharge) && invalidObj?.TaxSlabChargeId }"
                            [options]="{ placeholder: 'Select Tax Slab' }" [value]="taxSlabChargeValue"></select2>
                        </div>
                      </td>
                      <td>
                        <select2 #taxTypecharge_select2 [data]="taxTypeData" class="control_select"
                          (valueChanged)="onTaxTypeChargeSelect($event)" autocomplete="true"
                          [options]="{ placeholder: 'Select Tax Type' }" [value]="taxTypeChargeValue"></select2>
                      </td>
                      <td><input type="text" appIncludeDecimal readonly="true" name="TaxAmountCharge"
                          class="form-control"
                          [ngClass]="{'errorSelecto': invalidObj?.TaxAmountCharge && (submitSave || !clickCharge)}"
                          (input)="validateCharge()" id="TaxAmountCharge" [(ngModel)]="TaxAmountCharge"
                          placeholder="Tax Amount">
                      </td>
                      <td><input type="text" appIncludeDecimal readonly="true" name="TotalAmountCharge"
                          class="form-control"
                          [ngClass]="{'errorSelecto': invalidObj?.TotalAmountCharge && (submitSave || !clickCharge)}"
                          (input)="validateCharge()" (keyup.enter)="enterPressCharge($event)" id="TotalAmountCharge"
                          [(ngModel)]="TotalAmountCharge" placeholder="Total Amount">
                      </td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div>
          </div>
          <div class="form-row mt-2">
            <div class="col-md-12 card p-2">
              <div class="form-row mt-2">
                <div class="col-md-6">
                  <div class="border-right p-2">
                    <div class="form-row">


                      <div class=" form-group  col-md-4">
                        <label>Bill Discount</label>
                        <div class="discount">
                          <input [disabled]="MultipleBillDiscount || addItemDisbaled" type="number" class="form-control"
                            placeholder="Bill Discount" appIncludeDecimal name="BillDiscount" [(ngModel)]="BillDiscount"
                            min="0" max="100" (keyup)="BillDiscountValidation($event);BillDiscountCalculate();"
                            [ngClass]="{'errorSelecto': invalidObj?.Discount }">
                          <select *ngIf='!MultipleBillDiscount' style="width: 70px !important;"
                            class="form-control discount_type" id="BillDiscountType" [(ngModel)]="BillDiscountType"
                            (ngModelChange)="BillDiscountCalculate()" name="BillDiscountType">
                            <option *ngFor="let value of currencyValues;" [value]="value.id">{{value.symbol}}</option>
                          </select>
                          <div *ngIf='MultipleBillDiscount'>
                            <a [class.disabled]="addItemDisbaled" (click)="openDiscountMaster()" class="Plus_tooltip"><i
                                class="fas fa-plus-square "></i></a>
                          </div>

                        </div>

                      </div>


                      <div class="form-group col-md-4">
                        <label> Round Off</label>
                        <input type="number" class="form-control" id="RoundOffManual" placeholder="Round Off"
                          class="form-control" name="RoundOffManual" appIncludeDecimal (input)="calculate()"
                          [(ngModel)]="RoundOffManual">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="pt-2 pr-2 pl-2 ">
                    <h5 class="summery_text">Bill Summary</h5>
                    <div class="form-row">
                      <div class="col-md-6 text-left">
                        <div class="form-row">
                          <ng-container *ngIf="TaxableValue > 0">
                            <div class="col-md-6 labal_text">Taxable Value</div>
                            <div class="col-md-6 value_text">{{TaxableValue.toFixed(noOfDecimalPoint)}}</div>
                          </ng-container>
                          <ng-container *ngIf="totalBillDiscount > 0">
                            <div class="col-md-6 labal_text">Total Bill Discount</div>
                            <div class="col-md-6 value_text">{{totalBillDiscount.toFixed(noOfDecimalPoint)}}</div>
                          </ng-container>
                          <ng-container *ngFor="let charge of AdditionalChargesToShow">
                            <div class="col-md-6 labal_text">{{charge.LedgerName}}</div>
                            <div class="col-md-6 value_text">{{charge.TaxableAmountCharge.toFixed(noOfDecimalPoint)}}
                            </div>
                          </ng-container>
                        </div>
                      </div>
                      <div class="col-md-6 text-right" *ngIf="billSummary && billSummary.length > 0">
                        <div class="form-row" *ngFor="let tax of billSummary">
                          <div class="col-md-6 labal_text">{{tax.name}}</div>
                          <div class="col-md-6 value_text">{{tax.total.toFixed(4)}}</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-row border-top pt-2">
                      <div class="col-md-6"></div>
                      <div class="col-md-3 labal_text font-weight-bold">Round Off</div>
                      <div class="col-md-3 text-right font-weight-bold value_text">{{RoundOff}}</div>
                    </div>
                    <div class="form-row border-top pt-2">
                      <div class="col-md-6"></div>
                      <div class="col-md-3 labal_text font-weight-bold">Total Bill Amount</div>
                      <div class="col-md-3 text-right font-weight-bold value_text">
                        {{(BillAmount).toFixed(noOfDecimalPoint)}}</div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div class="form-row mt-2">
            <div class="col-md-12 card p-2">
              <div class="form-row">
                <div class="parent" id="parent">
                  <h5 class="summery_text">Payment Details</h5>
                  <table class="table editable_tbl trans-table" id="fixTable">
                    <thead>
                      <tr>
                        <th class="cust_width_80">#</th>
                        <th>Mode</th>
                        <th>Ledger Name</th>
                        <th>Amount</th>
                        <th>PayDate</th>
                        <th>Ref. No.</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr class="default_row" *ngFor="let transaction of PaymentDetail; index as i"
                      (click)="editItem(i+1, transaction.Id, 'trans',transaction.Sno)"
                      >
                        <td class="profile-pic1">
                          <div class="edit1">
                              <ng-container *ngIf="transaction.isEditable">
                                  <a (click)="deleteItem(i, 'trans', transaction.Sno)" *ngIf="PaymentDetail.length > 0">
                                      <i class="fa fa-trash fa-1x" aria-hidden="true"></i>
                                    </a>
                              </ng-container>
                              <ng-container *ngIf="transaction.isEditable" >
                                  <a (click)="editItem(i+1, transaction.Id, 'trans',transaction.Sno)" *ngIf="PaymentDetail.length > 0"><i
                                    class="fas fa-pen fa-1x"></i>
                                </a>
                              </ng-container>
                              <ng-container *ngIf="!transaction.isEditable" >
                                  <a *ngIf="PaymentDetail.length > 0" (click)="addTransactions()"><i
                                    class="fas fa-plus fa-1x"></i>
                                </a>
                              </ng-container>
                          </div>
                        </td>
                        <td *ngIf="transaction.isEditable" class="align-middle" style="min-width:180px;">
                         
                            {{transaction.Paymode}}
                         
                        </td>
                        <td *ngIf="!transaction.isEditable" style="min-width:180px;">
                            <div class="input-group adw_select">
                              <select2 name="Paymode" #payment_select2 [data]="paymentModesData" id="PayModeId"
                                class="control_select" (valueChanged)="onPaymentModeSelect($event)" autocomplete="true"
                                [options]="{placeholder: 'Select Payment Mode'}"
                                [ngClass]="{'errorSelecto': invalidObj?.PayModeId && (submitSave || !clickTrans)  }"
                                [value]="paymode"></select2>
                            </div>
                          </td>
                        <td *ngIf="transaction.isEditable" class="align-middle">
                          
                            {{transaction.BankLedgerName}}
                         
                        </td>
                        <td *ngIf="!transaction.isEditable">
                            <div class="input-group adw_select">
                              <select2 name="LedgerId" #ledger_select2 [data]="paymentLedgerselect2" id="LedgerId"
                                class="control_select" (valueChanged)="onPaymentLedgerSelect($event)" autocomplete="true"
                                [options]="{placeholder: 'Select Ledger'}"
                                [ngClass]="{'errorSelecto': invalidObj?.LedgerId && (submitSave || !clickTrans)  }"
                                [value]="ledger"></select2>
                            </div>
                          </td>
                        <td *ngIf="transaction.isEditable" class="align-middle">
                         
                            {{transaction.Amount}}
                         
                        </td>
                        <td *ngIf="!transaction.isEditable">
                            <input type="text" appIncludeDecimal name="Amount" class="form-control"
                              [ngClass]="{'errorSelecto': invalidObj?.Amount && (submitSave || !clickTrans)}"
                              (input)="validateTransaction()" id="Amount" [(ngModel)]="Amount" placeholder="Enter Amount">
                          </td>
                        <td *ngIf="transaction.isEditable" class="align-middle">
                         
                            {{transaction.PayDate}}
                        
                        </td>
                        <td *ngIf="!transaction.isEditable">
                            <datepicker-popup [toSetDate]="PayDate" [isBackDate]="backDateEntry"
                             (dateInFormat)="PayDate = $event;validateTransaction();"
                             [class]="invalidObj?.PayDate && (submitSave || !clickTrans)"></datepicker-popup>
                         </td>
                       
                        <td *ngIf="transaction.isEditable" class="align-middle">
                          
                            {{transaction.ChequeNo}}
                        
                        </td>
                        <td *ngIf="!transaction.isEditable">
                          <input type="text" id="ChequeNo" class="form-control" name="ChequeNo" [(ngModel)]="ChequeNo"
                          (input)="validateTransaction()" (keyup.enter)="enterPressTrans($event)"
                          [ngClass]="{'errorSelecto': invalidObj?.ChequeNo && (submitSave || !clickTrans)}"
                          placeholder="Enter Reference No.">
                      </td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr *ngIf="showHidePayment" class="selected_row active">
                        <td>
                          <div class="action_btn">
                            <button (click)="validateTransaction();addTransactions()" type="submit"
                              class="btn btn-primary btn_add_more">+</button>
                          </div>
                        </td>
                        <td style="min-width:180px;">
                          <div class="input-group adw_select">
                            <select2 name="Paymode" #payment_select2 [data]="paymentModesData" id="PayModeId"
                              class="control_select" (valueChanged)="onPaymentModeSelect($event)" autocomplete="true"
                              [options]="{placeholder: 'Select Payment Mode'}"
                              [ngClass]="{'errorSelecto': invalidObj?.PayModeId && (submitSave || !clickTrans)  }"
                              [value]="paymode"></select2>
                          </div>
                        </td>
                        <td>
                          <div class="input-group adw_select">
                            <select2 name="LedgerId" #ledger_select2 [data]="paymentLedgerselect2" id="LedgerId"
                              class="control_select" (valueChanged)="onPaymentLedgerSelect($event)" autocomplete="true"
                              [options]="{placeholder: 'Select Ledger'}"
                              [ngClass]="{'errorSelecto': invalidObj?.LedgerId && (submitSave || !clickTrans)  }"
                              [value]="ledger"></select2>
                          </div>
                        </td>
                        <td>
                          <input type="text" appIncludeDecimal name="Amount" class="form-control"
                            [ngClass]="{'errorSelecto': invalidObj?.Amount && (submitSave || !clickTrans)}"
                            (input)="validateTransaction()" id="Amount" [(ngModel)]="Amount" placeholder="Enter Amount">
                        </td>
                        <td>
                           <datepicker-popup [toSetDate]="PayDate" [isBackDate]="backDateEntry"
                            (dateInFormat)="PayDate = $event;validateTransaction();"
                            [class]="invalidObj?.PayDate && (submitSave || !clickTrans)"></datepicker-popup>
                        </td>
                        <td><input type="text" id="ChequeNo" class="form-control" name="ChequeNo" [(ngModel)]="ChequeNo"
                            (input)="validateTransaction()" (keyup.enter)="enterPressTrans($event)"
                            [ngClass]="{'errorSelecto': invalidObj?.ChequeNo && (submitSave || !clickTrans)}"
                            placeholder="Enter Reference No.">
                        </td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal fade right " *ngIf="!isCaseSaleFlag" id="cust_detail_m" role="dialog" aria-labelledby="unit_master"
  data-backdrop="static">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-full-height modal-right" role="document">
    <div class="modal-content">
      <div class="modal-header close_popup">
        <h4 class="modal-title w-100 c-grey-900">Customer Detail</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="card-body">
          <div>
            <form novalidate>
              <div class="form-row">
                <div class="form-group col-md-12">
                  <label class="active">Customer Name</label>
                  <input #custName type="text" name='customername' class="form-control" [(ngModel)]="caseCustomerName"
                    placeholder="Enter Value">
                </div>
                <div class="form-group col-md-12">
                  <label class="active">Mobile Number</label>
                  <div class="mobile_code   ">
                    <select2 #countryCode_select2 [data]="countryListWithCode" class="control_select width_20"
                      (valueChanged)="
                                          onCountryCodeSelectionChange($event)" [value]='countryCodeFlag'
                      autocomplete="true">
                    </select2>



                    <input id='mobileId' name="custMobileno" (input)="checkOnInputMobile($event)"
                      [attr.disabled]="disbledInputMobileFlag?'':null" type="number" class="form-control width_70"
                      [(ngModel)]="customerMobileNo" placeholder="Number">
                  </div>
                </div>
                <div class="form-group col-md-12">
                  <label class="active">Email</label>
                  <input type="text" name='emailCase' class="form-control" [(ngModel)]="CustomerEmail"
                    placeholder="Enter mail">
                </div>
                <div class="form-group col-md-12">
                  <label class="active">GSTIN No.</label>
                  <input type="text" name="gstinNo" class="form-control" [(ngModel)]="PartyGstinNo"
                    placeholder="Enter GST">
                </div>
                <div class="form-group col-md-6">
                  <label class="active">Country</label>
                  <div class="input-group adw_select">
                    <div class="input-group adw_select">
                      <select2 #country_select2 [data]="countryList" class="control_select"
                        (valueChanged)="selectCountryListId($event)" autocomplete="true"
                        [options]="{placeholder :'Select Country'}" [value]="countryValue"></select2>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label class="active">State</label>
                  <div class="input-group adw_select">
                    <div class="input-group adw_select">
                      <select2 #state_select2 [data]="stateListCustomer" class="control_select"
                        (valueChanged)="selectState($event)" autocomplete="true"
                        [options]="{placeholder :'Select State'}" [value]="stateValuedata"></select2>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label class="active">City</label>
                  <div class="input-group adw_select">
                    <select2 #city_select2 [data]="cityList" class="control_select" autocomplete="true"
                      (valueChanged)="selectedCityId($event)" [value]="cityValue"></select2>

                  </div>
                </div>
                <div class="form-group col-md-6">
                  <label>Area</label>
                  <div class="input-group adw_select">
                    <select2 #areaSelecto2 [data]="areaList" class="control_select" autocomplete="true"
                      (valueChanged)="selectedArea($event)" [value]="areNameId" [options]="{placeholder:'Select Area'}">
                    </select2>
                  </div>
                </div>
                <div class="form-group col-md-12">
                  <label class="active">Address</label>
                  <textarea class="form-control" name='address' [(ngModel)]="CustomerAddress"
                    placeholder="Enter Value"></textarea>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn_close waves-effect" data-dismiss="modal">Close</button>
        <button type="button" (click)="addCaseCustomer()" class="btn btn-primary waves-effect">Save </button>
      </div>
    </div>
  </div>
</div>